<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>g7sh</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h2 class="title"><a name="idm8500240"></a>g7sh</h2></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="refentrytitle"><a href="#g7sh">g7sh</a></span><span class="refpurpose"> &#8212; Command line shell to interface g7ctrl daemon</span></dt></dl></div><div class="refentry"><a name="g7sh"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>g7sh &#8212; Command line shell to interface g7ctrl daemon</p></div><div class="refsynopsisdiv"><a name="g7sh.synopsis"></a><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">g7sh</code>  [options...]</p></div></div><div class="refsect1"><a name="g7sh.description"></a><h2>Description</h2><p>The <span class="citerefentry"><span class="refentrytitle">g7sh</span>(1)</span> is a command line shell meant to interface the
                    <span class="command"><strong>g7ctrl</strong></span> daemon. The program offers full command line editing
                (emulating <span class="command"><strong>emacs</strong></span> command set) as well as history. This makes it
                the preferred way to interface with the daemon for the full feature set. The
                alternative command line way is to connect directly to the daemon port using for
                example <span class="command"><strong>telnet</strong></span> or <span class="command"><strong>nc</strong></span>, however this is only
                recommended for troubleshooting purposes.</p><p>The shell can be run either on the same server as the daemon or on a separate
                computer. In the forst case it is simple a matter of starting the shell with</p><p>
                </p><pre class="screen">$&gt; g7sh</pre><p>
            </p><p>If it is run on a separate computer the IP-address to the server must be
                given</p><p>
                </p><pre class="screen">$&gt; g7sh -s 192.168.0.10</pre><p>
            </p><p> If the config file can not be found in the common place (i.e.
                    <code class="filename">/etc/g7ctrl/g7ctrl.conf</code>) then the shell will look for a
                shell specific config file "<code class="filename">.g7sh</code>" in the users home directory.
                Command line argument will however always override any ini file setting.</p></div><div class="refsect1"><a name="g7sh.options"></a><h2>Arguments</h2><p>The following command line arguments are supported when starting the shell</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-s</code>, <code class="option">--server</code>
                        <span class="emphasis"><em>IP-address</em></span></span></dt><dd><p>Specify the server that is running <span class="command"><strong>g7ctrl</strong></span>. Default
                            value is <span class="italic">localhost</span></p></dd><dt><span class="term"><code class="option">-p</code>, <code class="option">--port</code>
                        <span class="emphasis"><em>TCP/IP cmd port</em></span></span></dt><dd><p>TCP/IP port where the <span class="command"><strong>g7ctrl</strong></span> server is listening.
                            If the shell is run on the same server as the daemon then the port will
                            be automatically determined from the <span class="command"><strong>g7ctrl</strong></span> config
                            file. </p></dd><dt><span class="term"><code class="option">-h</code>, <code class="option">--help</code></span></dt><dd><p>Print a short help and exit.</p></dd><dt><span class="term"><code class="option">-v</code>, <code class="option">--version</code></span></dt><dd><p>Print program version information and exit.</p></dd><dt><span class="term"><code class="option">-e</code>, <code class="option">--exec</code>
                        <span class="emphasis"><em>"command-string"</em></span></span></dt><dd><p>Execute the given commands and terminate. Multiple commands are
                            separetaed with a semicolon ";"</p></dd></dl></div></div><div class="refsect1"><a name="idp48632816"></a><h2>Using the shell as a login shell</h2><p>One possible way to use the shell is to use it as a <span class="italic">system login shell</span>. In this way it will be possible to login
                directly to the server by using, for example, <span class="command"><strong>ssh</strong></span> and connecting
                as a dedicated user who uses <span class="command"><strong>g7sh</strong></span> as default login shell.</p><p>In order to do this there are two things that must be done:</p><p>
                </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add a new user to the server and specify <span class="command"><strong>g7sh</strong></span> as
                            the login shell. This is done by adding a line in the
                            <code class="filename">/etc/passwd</code> file. For example as</p><p>
                            </p><pre class="screen">g7m:x:0:0:g7ctrl shell user:/home/g7ctrl:/usr/bin/g7sh </pre><p>
                        </p><p>The above line creates a new user called <span class="italic">pvr</span> which uses <span class="command"><strong>g7sh</strong></span> as login shell.
                            (The '<span class="italic">x</span>' in the password field
                            indicates that the system is using shadow passwords.). You can also use
                            the system tools  you are comfortable with in order to create a new
                            user.</p></li><li class="listitem"><p>Allow <span class="command"><strong>g7sh</strong></span> to be used as system shell by adding it
                            to the list of allowed system shells in
                            '<code class="filename">/etc/shells</code>'</p></li></ol></div><p>
            </p></div><div class="refsect1"><a name="g7sh.files"></a><h2>Files</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">/etc/g7ctrl/g7ctrl.conf</code></span></dt><dd><p>Default configuration file</p></dd><dt><span class="term"><code class="filename">~/.g7shrc</code></span></dt><dd><p>Default configuration file if <code class="filename">/etc/g7ctrl/g7ctrl.conf</code> does not exist</p></dd><dt><span class="term"><code class="filename">~/.g7ctrl_history</code></span></dt><dd><p>Stores the history of previous commands</p></dd></dl></div></div><div class="refsect1"><a name="idp48671136"></a><h2>Resources</h2><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SourceForge:
                            &lt;<code class="uri">http://sourceforge.net/projects/g7ctrl/</code>&gt;</p></li></ul></div><p>
            </p></div><div class="refsect1"><a name="idp48673920"></a><h2>Known defects</h2><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Limited line editing and history function on Apple OSX due to
                            different terminal behavior and no native readline library support. Full
                            support requires the installation of GNU libreadline if built on OSX. </p></li></ul></div><p>
            </p></div><div class="refsect1"><a name="idp48676496"></a><h2>Author</h2><p>Written and maintained by Johan Persson
                &lt;<code class="email">&lt;<a class="email" href="mailto:johan162@gmail.com">johan162@gmail.com</a>&gt;</code>&gt;</p></div><div class="refsect1"><a name="idp48678160"></a><h2>Copyright</h2><p>Free use of this software is granted under the terms of the <acronym class="acronym">GNU</acronym> General Public
                License (GPL v3)., see the file COPYING included in the distribution archive for
                details.</p></div><div class="refsect1"><a name="g7sh.seealso"></a><h2>See also</h2><p><span class="citerefentry"><span class="refentrytitle">g7ctrl</span>(1)</span>
			</p></div></div></div></body></html>
